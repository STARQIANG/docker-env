
server
{
    listen 80;
    server_name cfg.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://cfg.real;
        access_log  /var/log/nginx/cfg.log json;
    }
}

server
{
    listen 80;
    server_name order.real.zhongjiaxin.com;
    location /channel-out {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://order.real;
        access_log /var/log/nginx/order.log json;
    }
        location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://order.real/channel-out/;
        access_log /var/log/nginx/order.log json;
    }

}


server
{
    listen 80;
    server_name channel.real.zhongjiaxin.com;
    location /channel {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://channel.real;
        access_log /var/log/nginx/channel.log json;
    }
        location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://channel.real/channel/;
        access_log /var/log/nginx/channel.log json;
    }

}

server
{
    listen 80;
    server_name basic.real.zhongjiaxin.com;
    location /service {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://basic.real;
        set $app_name basic;
        access_log /var/log/nginx/basic.log json;
    }
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        set $app_name basic;
        proxy_pass http://basic.real/service/;
        access_log /var/log/nginx/basic.log json;
    }

}

server
{
    listen 80;
    server_name lms.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://10.0.8.199:9000;
        access_log /var/log/nginx/lms.log json;
    }

}

server
{
    listen 80;
    server_name business.real.zhongjiaxin.com;
    location  /websocket {
        proxy_pass http://business.real;
        set $app_name business;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        set $app_name business;
        proxy_pass http://business.real;
        access_log /var/log/nginx/business.log json;
    }

}

server
{
    listen 80;
    server_name outer.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://outer.real;
        access_log /var/log/nginx/outer.log json;
    }

}

server
{
    listen 80;
    server_name outnet.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://outnet.real;
        access_log /var/log/nginx/outnet.log json;

    }
}

server
{
    listen 80;
    server_name rule.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://10.0.8.199:9001;
        access_log /var/log/nginx/rule.log json;
    }
}

server
{
    listen 80;
    server_name pv.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://10.0.8.199:9002;
        access_log /var/log/nginx/pv.log json;
    }
}

server
{
    listen 80;
    server_name risk.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://risk.real;
        access_log /var/log/nginx/risk.log json;
    }
}

server
{
    listen 80;
    server_name user.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://user.real;
        access_log /var/log/nginx/uesr.log json;
    }
}

server
{
    listen 80;
    server_name finance.real.zhongjiaxin.com;
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://10.0.8.199:8086/huofh;
        access_log /var/log/nginx/huofh.log json;
    }
    location /huofh {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://10.0.8.199:8086;
        access_log /var/log/nginx/huofh.log json;
    }
}